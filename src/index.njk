{% from './includes/macros.njk' import icon %}
{% extends './layouts/default.njk' %}

{% block css %}
    <link rel="stylesheet" href="css/styles.css"/>
{% endblock %}

{% block body %}
<body>
  <div class="container">
    <header>
      <div>
      <h1>TZ Rennes 02 dÃ©cembre 2022</h1>
      <p>Programme de la journÃ©e</p>
      </div>
      <img src="img/logozenika.svg" alt="">
    </header>


    <table>
        <thead>
            <tr>
                <th col="time">Horaire</th>
                {% for track in tz.tracks %}
                  <th>Track {{ loop.index }} - {{ track }}</th>
                {% endfor %}
            </tr>
        </thead>

        <tbody>
          {% for slot in tz.slots %}
            <tr class="{{ slot.type }}" data-height="{{Â slot.slots }}">
              <td col="time">{{ slot.time }}</td>

              {% for track in slot.tracks %}
                {% if slot.type === 'talk' %}
                    {% if track.title %}
                      <td {% if track.span %}rowspan="{{ track.span }}"{% endif %} data-time="{{ slot.begin }}" data-track="Track {{ loop.index }} - {{ tz.tracks[loop.index - 1] }}">
                        <h2>{{ track.title | safe }}</h2>
                        <p>{% set comma = joiner(' &') %}{% for author in track.authors -%}{{ comma() }} {{ author }}{%- endfor %}</p>

                        <p>ðŸ•‘&nbsp;&nbsp;{{ track.timing }} - {{Â track.category | safe }}</p>
                      </td>
                    {% elif track === "EMPTY"  %}
                      <td class="empty"></td>
                    {% endif %}
                {% else %}
                      <td data-type="{{ track.title }}">{{ track.title }}</td>
                {% endif %}
              {% endfor %}
            </tr>
          {% endfor %}
        </tbody>
    </table>
  </div>
</body>
{% endblock %}